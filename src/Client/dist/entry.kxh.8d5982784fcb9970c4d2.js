System.register(["react","@kentico/xperience-admin-components","@kentico/xperience-admin-base"],(function(e,t){var a={},r={},o={};return{setters:[function(e){a.default=e.default||e,a.useState=e.useState},function(e){r.Button=e.Button,r.ButtonColor=e.ButtonColor,r.ButtonSize=e.ButtonSize,r.Card=e.Card,r.Column=e.Column,r.Headline=e.Headline,r.HeadlineSize=e.HeadlineSize,r.Icon=e.Icon,r.Row=e.Row,r.Spacing=e.Spacing,r.Stack=e.Stack},function(e){o.usePageCommand=e.usePageCommand}],execute:function(){e((()=>{var e={90:e=>{"use strict";e.exports=o},126:(e,t,a)=>{const r=a(358).y;t.w=function(e){if(e||(e=1),!a.y.meta||!a.y.meta.url)throw console.error("__system_context__",a.y),Error("systemjs-webpack-interop was provided an unknown SystemJS context. Expected context.meta.url, but none was provided");a.p=r(a.y.meta.url,e)}},267:e=>{"use strict";e.exports=r},358:(e,t,a)=>{t.y=function(e,t){var a=document.createElement("a");a.href=e;for(var r="/"===a.pathname[0]?a.pathname:"/"+a.pathname,o=0,n=r.length;o!==t&&n>=0;)"/"===r[--n]&&o++;if(o!==t)throw Error("systemjs-webpack-interop: rootDirectoryLevel ("+t+") is greater than the number of directories ("+o+") in the URL path "+e);var l=r.slice(0,n+1);return a.protocol+"//"+a.host+l};Number.isInteger},726:e=>{"use strict";e.exports=a}},n={};function l(t){var a=n[t];if(void 0!==a)return a.exports;var r=n[t]={exports:{}};return e[t](r,r.exports,l),r.exports}l.y=t,l.d=(e,t)=>{for(var a in t)l.o(t,a)&&!l.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.p="";var i={};return(0,l(126).w)(1),(()=>{"use strict";l.r(i),l.d(i,{SustainabilityDashboardTemplate:()=>t,SustainabilityTabTemplate:()=>f});var e=l(726);const t=({label:t})=>{const[a,r]=(0,e.useState)(t);return e.default.createElement("div",null,e.default.createElement("h1",null,a),e.default.createElement("p",null,"Coming soon: https://github.com/liamgold/xperience-community-sustainability/issues/4."))};var a=l(267),r=l(90),o=function(e){return e[e.Available=0]="Available",e[e.NotAvailable=1]="NotAvailable",e}(o||{});const n={"A+":"Extremely efficient",A:"Very efficient",B:"Efficient",C:"Moderate efficiency",D:"Low efficiency",E:"Poor efficiency",F:"Very poor efficiency"},d={"A+":{primary:"#059669",bg:"#d1fae5",border:"#6ee7b7"},A:{primary:"#16a34a",bg:"#dcfce7",border:"#86efac"},B:{primary:"#65a30d",bg:"#ecfccb",border:"#bef264"},C:{primary:"#ca8a04",bg:"#fef9c3",border:"#fde047"},D:{primary:"#ea580c",bg:"#ffedd5",border:"#fdba74"},E:{primary:"#dc2626",bg:"#fee2e2",border:"#fca5a5"},F:{primary:"#b91c1c",bg:"#fee2e2",border:"#f87171"}},s=({label:t,value:a,subtitle:r})=>e.default.createElement("div",{style:{padding:"20px",background:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)"}},e.default.createElement("div",{style:{fontSize:"13px",fontWeight:600,color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"8px"}},t),e.default.createElement("div",{style:{fontSize:"28px",fontWeight:700,color:"#111827",marginBottom:r?"4px":"0"}},a),r&&e.default.createElement("div",{style:{fontSize:"12px",color:"#9ca3af"}},r)),c={container:{background:"white",border:"1px solid #e5e7eb",borderRadius:"8px",overflow:"hidden"},header:{padding:"16px 20px",background:"#f9fafb",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center"},title:{fontSize:"15px",fontWeight:600,color:"#111827"},subtitle:{fontSize:"13px",color:"#6b7280",marginTop:"2px"},badge:{padding:"4px 12px",background:"#eff6ff",color:"#1e40af",fontSize:"13px",fontWeight:600,borderRadius:"12px"},listContainer:{padding:"12px 20px"},resourceItem:e=>({padding:"12px 0",borderBottom:e?"none":"1px solid #f3f4f6"}),resourceRow:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"12px"},resourceInfo:{flex:1,minWidth:0},fileName:{fontSize:"13px",fontWeight:500,color:"#111827",marginBottom:"2px",wordBreak:"break-word"},filePath:{fontSize:"12px",color:"#9ca3af",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},fileSize:{fontSize:"13px",fontWeight:600,color:"#6b7280",whiteSpace:"nowrap"},expandButtonContainer:{marginTop:"12px",width:"100%",display:"flex",justifyContent:"center"}},u=({group:t,totalPageSize:r})=>{const[o,n]=(0,e.useState)(!1),l=o?t.resources.length:3;return e.default.createElement("div",{style:c.container},e.default.createElement("div",{style:c.header},e.default.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px"}},(()=>{const r=(e=>{const t={Images:{bg:"#dbeafe",color:"#1e40af",border:"#bfdbfe"},Scripts:{bg:"#ede9fe",color:"#7c3aed",border:"#ddd6fe"},CSS:{bg:"#fce7f3",color:"#db2777",border:"#fbcfe8"},Links:{bg:"#d1fae5",color:"#059669",border:"#a7f3d0"},Other:{bg:"#f3f4f6",color:"#6b7280",border:"#e5e7eb"}};return t[e]||t.Other})(t.name);return e.default.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"48px",height:"48px",borderRadius:"8px",backgroundColor:r.bg,color:r.color,border:`1px solid ${r.border}`,flexShrink:0,fontSize:"24px"}},e.default.createElement(a.Icon,{name:(o=t.name,{Images:"xp-picture",Scripts:"xp-braces",CSS:"xp-brush",Links:"xp-chain",Other:"xp-file"}[o]||"xp-file")}));var o})(),e.default.createElement("div",null,e.default.createElement("div",{style:c.title},t.name),e.default.createElement("div",{style:c.subtitle},t.resources.length," resource",1!==t.resources.length?"s":""," â€¢"," ",t.totalSize.toFixed(2)," KB"))),e.default.createElement("div",{style:c.badge},(t.totalSize/r*100).toFixed(1),"% of page")),t.resources.length>0&&e.default.createElement("div",{style:c.listContainer},t.resources.slice(0,l).map(((t,a)=>{const r=t.url.split("/").pop()||t.url,o=t.url.substring(0,t.url.lastIndexOf("/")+1),n=a===l-1;return e.default.createElement("div",{key:a,style:c.resourceItem(n)},e.default.createElement("div",{style:c.resourceRow},e.default.createElement("div",{style:c.resourceInfo},e.default.createElement("div",{style:c.fileName},r),e.default.createElement("div",{style:c.filePath,title:o},o)),e.default.createElement("div",{style:c.fileSize},t.size.toFixed(2)," KB")))})),t.resources.length>3&&e.default.createElement("div",{style:c.expandButtonContainer},e.default.createElement(a.Button,{label:o?"Show less":`Show ${t.resources.length-3} more`,onClick:()=>n(!o),color:a.ButtonColor.Secondary,size:a.ButtonSize.S}))))},f=t=>{const[l,i]=(0,e.useState)(!1),[c,f]=(0,e.useState)(null),[p,m]=(0,e.useState)(t?.sustainabilityData),{execute:g}=(0,r.usePageCommand)("RunReport",{after:e=>{m(e?.sustainabilityData),i(!1),f(null)},onError:e=>{i(!1),f("Failed to run sustainability report. Please try again."),console.error("Sustainability report error:",e)}});if(null==p)return e.default.createElement("div",{style:{padding:"32px",maxWidth:"1400px",margin:"0 auto"}},e.default.createElement(a.Stack,{spacing:a.Spacing.XL},e.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},e.default.createElement(a.Headline,{size:a.HeadlineSize.L},"Sustainability Report")),e.default.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"400px"}},e.default.createElement(a.Card,{headline:"No Data Available",fullHeight:!1},e.default.createElement(a.Stack,{spacing:a.Spacing.L},e.default.createElement("p",{style:{fontSize:"14px",color:"#6b7280"}},t?.pageAvailability===o.Available?"Run a sustainability analysis to see your page's environmental impact.":"This page is not available for analysis."),c&&e.default.createElement("div",{style:{padding:"12px 16px",background:"#fef2f2",border:"1px solid #fecaca",borderRadius:"6px",fontSize:"13px",color:"#dc2626"}},c),t?.pageAvailability===o.Available&&e.default.createElement(a.Button,{label:"Run Analysis",color:a.ButtonColor.Primary,size:a.ButtonSize.L,disabled:l,inProgress:l,onClick:()=>{i(!0),f(null),g()}}))))));const b=d[p.carbonRating]||d.C,x=p.resourceGroups.reduce(((e,t)=>e+t.resources.length),0),y=(e=>{switch(e){case"Green":return{text:"Green hosting",color:"#059669",icon:"â—",bgColor:"#f0fdf4",borderColor:"#86efac",description:"This site is hosted on a green energy provider"};case"NotGreen":return{text:"Standard hosting",color:"#f97316",icon:"â—",bgColor:"#fff7ed",borderColor:"#fdba74",description:"This site uses standard grid energy hosting"};default:return{text:"Unknown hosting",color:"#6b7280",icon:"â—",bgColor:"#f3f4f6",borderColor:"#d1d5db",description:"Unable to verify the hosting provider's energy source"}}})(p.greenHostingStatus);return e.default.createElement("div",{style:{padding:"32px",maxWidth:"1400px",margin:"0 auto"}},e.default.createElement(a.Stack,{spacing:a.Spacing.XL},e.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"16px"}},e.default.createElement("div",null,e.default.createElement(a.Headline,{size:a.HeadlineSize.L},"Sustainability Report"),e.default.createElement("div",{style:{fontSize:"14px",color:"#6b7280",marginTop:"4px"}},"Last analyzed: ",p.lastRunDate)),e.default.createElement(a.Button,{label:"Run New Analysis",color:a.ButtonColor.Primary,size:a.ButtonSize.M,disabled:l,inProgress:l,onClick:()=>{i(!0),f(null),g()}})),c&&e.default.createElement("div",{style:{padding:"16px",background:"#fef2f2",border:"1px solid #fecaca",borderRadius:"8px",fontSize:"14px",color:"#dc2626"}},c),e.default.createElement("div",{style:{background:`linear-gradient(135deg, ${b.bg} 0%, white 100%)`,border:`2px solid ${b.border}`,borderRadius:"12px",padding:"40px",position:"relative",overflow:"hidden"}},e.default.createElement("div",{style:{position:"absolute",top:"-50px",right:"-50px",width:"200px",height:"200px",background:b.bg,borderRadius:"50%",opacity:.3}}),e.default.createElement(a.Row,{spacing:a.Spacing.XL},e.default.createElement(a.Column,{colsLg:6,colsMd:12},e.default.createElement("div",{style:{position:"relative",zIndex:1}},e.default.createElement("div",{style:{fontSize:"14px",fontWeight:600,color:b.primary,textTransform:"uppercase",letterSpacing:"1px",marginBottom:"12px"}},"Carbon Rating"),e.default.createElement("div",{style:{fontSize:"120px",fontWeight:900,color:b.primary,lineHeight:1,marginBottom:"16px",textShadow:`0 2px 8px ${b.bg}`}},p.carbonRating),e.default.createElement("div",{style:{fontSize:"18px",fontWeight:600,color:"#111827",marginBottom:"8px"}},n[p.carbonRating]),e.default.createElement("div",{style:{fontSize:"14px",color:"#6b7280"}},"A+"===p.carbonRating||"A"===p.carbonRating?"This page has excellent carbon efficiency.":"B"===p.carbonRating||"C"===p.carbonRating?"This page has room for improvement.":"This page needs significant optimization."),e.default.createElement("div",{style:{fontSize:"12px",color:"#9ca3af",marginTop:"12px",paddingTop:"12px",borderTop:"1px solid #e5e7eb"}},"Rating based on"," ",e.default.createElement("a",{href:"https://sustainablewebdesign.org/digital-carbon-ratings/",target:"_blank",rel:"noopener noreferrer",style:{color:b.primary,textDecoration:"underline",fontWeight:500}},"Sustainable Web Design Model v4")))),e.default.createElement(a.Column,{colsLg:6,colsMd:12},e.default.createElement(a.Row,{spacing:a.Spacing.L,spacingY:a.Spacing.L},e.default.createElement(a.Column,{colsLg:6,colsMd:6},e.default.createElement(s,{label:"COâ‚‚ Emissions",value:`${p.totalEmissions.toFixed(3)}g`,subtitle:"per page view"})),e.default.createElement(a.Column,{colsLg:6,colsMd:6},e.default.createElement(s,{label:"Page Weight",value:`${(p.totalSize/1024).toFixed(2)}MB`,subtitle:`${p.totalSize.toFixed(0)} KB total`})),e.default.createElement(a.Column,{colsLg:6,colsMd:6},e.default.createElement(s,{label:"Resources",value:`${x}`,subtitle:`${p.resourceGroups.length} categories`})),e.default.createElement(a.Column,{colsLg:6,colsMd:6},e.default.createElement(s,{label:"Efficiency",value:p.totalEmissions<.1?"Excellent":p.totalEmissions<.2?"Good":p.totalEmissions<.3?"Fair":"Poor",subtitle:"Overall rating"})))))),e.default.createElement("div",{style:{padding:"16px 20px",background:y.bgColor,border:`1px solid ${y.borderColor}`,borderRadius:"8px",display:"flex",alignItems:"center",gap:"12px"}},e.default.createElement("span",{style:{fontSize:"20px",color:y.color,lineHeight:1}},y.icon),e.default.createElement("div",null,e.default.createElement("div",{style:{fontSize:"14px",fontWeight:600,color:y.color,marginBottom:"2px"}},y.text),e.default.createElement("div",{style:{fontSize:"13px",color:"#6b7280"}},y.description))),e.default.createElement("div",null,e.default.createElement(a.Headline,{size:a.HeadlineSize.M,spacingBottom:a.Spacing.L},"Resource Breakdown"),e.default.createElement(a.Stack,{spacing:a.Spacing.L},p.resourceGroups.sort(((e,t)=>t.totalSize-e.totalSize)).map((t=>e.default.createElement(u,{key:t.type,group:t,totalPageSize:p.totalSize}))))),e.default.createElement("div",{style:{padding:"24px",background:"#f0f9ff",border:"1px solid #bae6fd",borderRadius:"8px"}},e.default.createElement("div",{style:{fontSize:"15px",fontWeight:600,color:"#0c4a6e",marginBottom:"12px"}},"ðŸ’¡ Tips to improve your carbon footprint"),e.default.createElement("ul",{style:{margin:0,paddingLeft:"20px",color:"#075985"}},e.default.createElement("li",{style:{marginBottom:"6px"}},e.default.createElement("strong",null,"Use Image Variants")," - Configure responsive image variants with specific dimensions and aspect ratios to serve optimized versions for different contexts (hero banners, thumbnails, social media)"),e.default.createElement("li",{style:{marginBottom:"6px"}},e.default.createElement("strong",null,"Enable AIRA's Smart Optimization")," - Leverage AIRA's AI-powered features for automatic image format conversion, smart focal point detection, and automated quality optimization during uploads"),e.default.createElement("li",{style:{marginBottom:"6px"}},e.default.createElement("strong",null,"Automate Image Metadata")," - Use AIRA to automatically generate alt texts, descriptions, and tags for better SEO while reducing manual work"),e.default.createElement("li",{style:{marginBottom:"6px"}},e.default.createElement("strong",null,"Minimize CSS & JavaScript")," - Bundle and minify your assets to reduce file sizes and decrease the number of HTTP requests"),e.default.createElement("li",{style:{marginBottom:"6px"}},e.default.createElement("strong",null,"Enable Browser Caching")," - Configure cache headers for static resources to reduce repeat downloads and server load"),e.default.createElement("li",null,e.default.createElement("strong",null,"Implement Lazy Loading")," - Load images and resources only when they're needed, improving initial page load performance")))))}})(),i})())}}}));