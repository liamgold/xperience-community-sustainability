System.register(["react","@kentico/xperience-admin-components","@kentico/xperience-admin-base"],(function(e,t){var a={},r={},o={};return{setters:[function(e){a.default=e.default||e,a.useState=e.useState},function(e){r.Button=e.Button,r.ButtonColor=e.ButtonColor,r.ButtonSize=e.ButtonSize,r.Card=e.Card,r.Column=e.Column,r.Headline=e.Headline,r.HeadlineSize=e.HeadlineSize,r.Icon=e.Icon,r.Row=e.Row,r.Spacing=e.Spacing,r.Stack=e.Stack},function(e){o.usePageCommand=e.usePageCommand}],execute:function(){e((()=>{var e={90:e=>{"use strict";e.exports=o},126:(e,t,a)=>{const r=a(358).y;t.w=function(e){if(e||(e=1),!a.y.meta||!a.y.meta.url)throw console.error("__system_context__",a.y),Error("systemjs-webpack-interop was provided an unknown SystemJS context. Expected context.meta.url, but none was provided");a.p=r(a.y.meta.url,e)}},267:e=>{"use strict";e.exports=r},358:(e,t,a)=>{t.y=function(e,t){var a=document.createElement("a");a.href=e;for(var r="/"===a.pathname[0]?a.pathname:"/"+a.pathname,o=0,l=r.length;o!==t&&l>=0;)"/"===r[--l]&&o++;if(o!==t)throw Error("systemjs-webpack-interop: rootDirectoryLevel ("+t+") is greater than the number of directories ("+o+") in the URL path "+e);var n=r.slice(0,l+1);return a.protocol+"//"+a.host+n};Number.isInteger},726:e=>{"use strict";e.exports=a}},l={};function n(t){var a=l[t];if(void 0!==a)return a.exports;var r=l[t]={exports:{}};return e[t](r,r.exports,n),r.exports}n.y=t,n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="";var i={};return(0,n(126).w)(1),(()=>{"use strict";n.r(i),n.d(i,{SustainabilityDashboardTemplate:()=>t,SustainabilityTabTemplate:()=>y});var e=n(726);const t=({label:t})=>{const[a,r]=(0,e.useState)(t);return e.default.createElement("div",null,e.default.createElement("h1",null,a),e.default.createElement("p",null,"Coming soon: https://github.com/liamgold/xperience-community-sustainability/issues/4."))};var a=n(267),r=n(90);let o=function(e){return e[e.Available=0]="Available",e[e.NotAvailable=1]="NotAvailable",e}({});const l={"A+":"Extremely efficient",A:"Very efficient",B:"Efficient",C:"Moderate efficiency",D:"Low efficiency",E:"Poor efficiency",F:"Very poor efficiency"},d={"A+":{primary:"#059669",bg:"#d1fae5",border:"#6ee7b7"},A:{primary:"#16a34a",bg:"#dcfce7",border:"#86efac"},B:{primary:"#65a30d",bg:"#ecfccb",border:"#bef264"},C:{primary:"#ca8a04",bg:"#fef9c3",border:"#fde047"},D:{primary:"#ea580c",bg:"#ffedd5",border:"#fdba74"},E:{primary:"#dc2626",bg:"#fee2e2",border:"#fca5a5"},F:{primary:"#b91c1c",bg:"#fee2e2",border:"#f87171"}},s=e=>({Images:"xp-picture",Scripts:"xp-braces",CSS:"xp-brush",Links:"xp-chain",Other:"xp-file"}[e]||"xp-file"),c=e=>{const t={Images:{bg:"#dbeafe",color:"#1e40af",border:"#bfdbfe"},Scripts:{bg:"#ede9fe",color:"#7c3aed",border:"#ddd6fe"},CSS:{bg:"#fce7f3",color:"#db2777",border:"#fbcfe8"},Links:{bg:"#d1fae5",color:"#059669",border:"#a7f3d0"},Other:{bg:"#f3f4f6",color:"#6b7280",border:"#e5e7eb"}};return t[e]||t.Other},u=({label:t,value:a,subtitle:r})=>e.default.createElement("div",{style:{padding:"20px",background:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)"}},e.default.createElement("div",{style:{fontSize:"13px",fontWeight:600,color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"8px"}},t),e.default.createElement("div",{style:{fontSize:"28px",fontWeight:700,color:"#111827",marginBottom:r?"4px":"0"}},a),r&&e.default.createElement("div",{style:{fontSize:"12px",color:"#9ca3af"}},r)),f={container:{background:"white",border:"1px solid #e5e7eb",borderRadius:"8px",overflow:"hidden"},header:{padding:"16px 20px",background:"#f9fafb",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center"},title:{fontSize:"15px",fontWeight:600,color:"#111827"},subtitle:{fontSize:"13px",color:"#6b7280",marginTop:"2px"},badge:{padding:"4px 12px",background:"#eff6ff",color:"#1e40af",fontSize:"13px",fontWeight:600,borderRadius:"12px"},listContainer:{padding:"12px 20px"},resourceItem:e=>({padding:"12px 0",borderBottom:e?"none":"1px solid #f3f4f6"}),resourceRow:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"12px"},resourceInfo:{flex:1,minWidth:0},fileName:{fontSize:"13px",fontWeight:500,color:"#111827",marginBottom:"2px",wordBreak:"break-word"},filePath:{fontSize:"12px",color:"#9ca3af",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},fileSize:{fontSize:"13px",fontWeight:600,color:"#6b7280",whiteSpace:"nowrap"},expandButtonContainer:{marginTop:"12px",width:"100%",display:"flex",justifyContent:"center"}},p=({group:t,totalPageSize:r})=>{const[o,l]=(0,e.useState)(!1),n=o?t.resources.length:3;return e.default.createElement("div",{style:f.container},e.default.createElement("div",{style:f.header},e.default.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px"}},(()=>{const r=c(t.name);return e.default.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"48px",height:"48px",borderRadius:"8px",backgroundColor:r.bg,color:r.color,border:`1px solid ${r.border}`,flexShrink:0,fontSize:"24px"}},e.default.createElement(a.Icon,{name:s(t.name)}))})(),e.default.createElement("div",null,e.default.createElement("div",{style:f.title},t.name),e.default.createElement("div",{style:f.subtitle},t.resources.length," resource",1!==t.resources.length?"s":""," â€¢"," ",t.totalSize.toFixed(2)," KB"))),e.default.createElement("div",{style:f.badge},(t.totalSize/r*100).toFixed(1),"% of page")),t.resources.length>0&&e.default.createElement("div",{style:f.listContainer},t.resources.slice(0,n).map(((t,r)=>{const o=t.url.split("/").pop()||t.url,l=t.url.substring(0,t.url.lastIndexOf("/")+1),i=r===n-1;return e.default.createElement("div",{key:r,style:f.resourceItem(i)},e.default.createElement("div",{style:f.resourceRow},e.default.createElement("div",{style:f.resourceInfo},e.default.createElement("div",{style:f.fileName},o,t.contentHubUrl&&e.default.createElement("a",{href:t.contentHubUrl,target:"_blank",rel:"noopener noreferrer",title:"View in Content Hub",style:{marginLeft:"8px",display:"inline-flex",alignItems:"center",verticalAlign:"top",textDecoration:"none",cursor:"pointer",fontSize:"14px",color:"var(--color-text-secondary)",opacity:.7},onMouseEnter:e=>{e.currentTarget.style.opacity="1"},onMouseLeave:e=>{e.currentTarget.style.opacity="0.7"}},e.default.createElement(a.Icon,{name:"xp-arrow-right-top-square"}))),e.default.createElement("div",{style:f.filePath,title:l},l)),e.default.createElement("div",{style:f.fileSize},t.size.toFixed(2)," KB")))})),t.resources.length>3&&e.default.createElement("div",{style:f.expandButtonContainer},e.default.createElement(a.Button,{label:o?"Show less":`Show ${t.resources.length-3} more`,onClick:()=>l(!o),color:a.ButtonColor.Secondary,size:a.ButtonSize.S}))))},m=({data:t,ratingColor:r,totalResources:o,hostingStatus:n})=>e.default.createElement(e.default.Fragment,null,e.default.createElement("div",{style:{background:`linear-gradient(135deg, ${r.bg} 0%, white 100%)`,border:`2px solid ${r.border}`,borderRadius:"12px",padding:"40px",position:"relative",overflow:"hidden"}},e.default.createElement("div",{style:{position:"absolute",top:"-50px",right:"-50px",width:"200px",height:"200px",background:r.bg,borderRadius:"50%",opacity:.3}}),e.default.createElement(a.Row,{spacing:a.Spacing.XL},e.default.createElement(a.Column,{colsLg:6,colsMd:12},e.default.createElement("div",{style:{position:"relative",zIndex:1}},e.default.createElement("div",{style:{fontSize:"14px",fontWeight:600,color:r.primary,textTransform:"uppercase",letterSpacing:"1px",marginBottom:"12px"}},"Carbon Rating"),e.default.createElement("div",{style:{fontSize:"120px",fontWeight:900,color:r.primary,lineHeight:1,marginBottom:"16px",textShadow:`0 2px 8px ${r.bg}`}},t.carbonRating),e.default.createElement("div",{style:{fontSize:"18px",fontWeight:600,color:"#111827",marginBottom:"8px"}},l[t.carbonRating]),e.default.createElement("div",{style:{fontSize:"14px",color:"#6b7280"}},"A+"===t.carbonRating||"A"===t.carbonRating?"This page has excellent carbon efficiency.":"B"===t.carbonRating||"C"===t.carbonRating?"This page has room for improvement.":"This page needs significant optimization."),e.default.createElement("div",{style:{fontSize:"12px",color:"#9ca3af",marginTop:"12px",paddingTop:"12px",borderTop:"1px solid #e5e7eb"}},"Rating based on"," ",e.default.createElement("a",{href:"https://sustainablewebdesign.org/digital-carbon-ratings/",target:"_blank",rel:"noopener noreferrer",style:{color:r.primary,textDecoration:"underline",fontWeight:500}},"Sustainable Web Design Model v4")))),e.default.createElement(a.Column,{colsLg:6,colsMd:12},e.default.createElement(a.Row,{spacing:a.Spacing.L,spacingY:a.Spacing.L},e.default.createElement(a.Column,{colsLg:6,colsMd:6},e.default.createElement(u,{label:"COâ‚‚ Emissions",value:`${t.totalEmissions.toFixed(3)}g`,subtitle:"per page view"})),e.default.createElement(a.Column,{colsLg:6,colsMd:6},e.default.createElement(u,{label:"Page Weight",value:`${(t.totalSize/1024).toFixed(2)}MB`,subtitle:`${t.totalSize.toFixed(0)} KB total`})),e.default.createElement(a.Column,{colsLg:6,colsMd:6},e.default.createElement(u,{label:"Resources",value:`${o}`,subtitle:`${t.resourceGroups.length} categories`})),e.default.createElement(a.Column,{colsLg:6,colsMd:6},e.default.createElement(u,{label:"Efficiency",value:t.totalEmissions<.1?"Excellent":t.totalEmissions<.2?"Good":t.totalEmissions<.3?"Fair":"Poor",subtitle:"Overall rating"})))))),e.default.createElement("div",{style:{padding:"16px 20px",background:n.bgColor,border:`1px solid ${n.borderColor}`,borderRadius:"8px",display:"flex",alignItems:"center",gap:"12px"}},e.default.createElement("span",{style:{fontSize:"20px",color:n.color,lineHeight:1}},n.icon),e.default.createElement("div",null,e.default.createElement("div",{style:{fontSize:"14px",fontWeight:600,color:n.color,marginBottom:"2px"}},n.text),e.default.createElement("div",{style:{fontSize:"13px",color:"#6b7280"}},n.description))),e.default.createElement("div",null,e.default.createElement(a.Headline,{size:a.HeadlineSize.M,spacingBottom:a.Spacing.L},"Resource Breakdown"),e.default.createElement(a.Stack,{spacing:a.Spacing.L},t.resourceGroups.sort(((e,t)=>{const a=["Images","CSS","Scripts","Links","Other"];return a.indexOf(e.name)-a.indexOf(t.name)})).map((a=>e.default.createElement(p,{key:a.type,group:a,totalPageSize:t.totalSize}))))),e.default.createElement("div",{style:{padding:"24px",background:"#f0f9ff",border:"1px solid #bae6fd",borderRadius:"8px"}},e.default.createElement("div",{style:{fontSize:"15px",fontWeight:600,color:"#0c4a6e",marginBottom:"12px"}},"ðŸ’¡ Tips to improve your carbon footprint"),e.default.createElement("ul",{style:{margin:0,paddingLeft:"20px",color:"#075985"}},e.default.createElement("li",{style:{marginBottom:"6px"}},e.default.createElement("strong",null,"Use Image Variants")," - Configure responsive image variants with specific dimensions and aspect ratios to serve optimized versions for different contexts (hero banners, thumbnails, social media)"),e.default.createElement("li",{style:{marginBottom:"6px"}},e.default.createElement("strong",null,"Enable AIRA's Smart Optimization")," - Leverage AIRA's AI-powered features for automatic image format conversion, smart focal point detection, and automated quality optimization during uploads"),e.default.createElement("li",{style:{marginBottom:"6px"}},e.default.createElement("strong",null,"Automate Image Metadata")," - Use AIRA to automatically generate alt texts, descriptions, and tags for better SEO while reducing manual work"),e.default.createElement("li",{style:{marginBottom:"6px"}},e.default.createElement("strong",null,"Minimize CSS & JavaScript")," - Bundle and minify your assets to reduce file sizes and decrease the number of HTTP requests"),e.default.createElement("li",{style:{marginBottom:"6px"}},e.default.createElement("strong",null,"Enable Browser Caching")," - Configure cache headers for static resources to reduce repeat downloads and server load"),e.default.createElement("li",null,e.default.createElement("strong",null,"Implement Lazy Loading")," - Load images and resources only when they're needed, improving initial page load performance")))),g=({currentReport:t,historicalReports:a})=>{const r=[t,...a].slice(0,10).reverse();if(r.length<2)return null;const o=800,l=200,n=20,i=60,d=140,s=r.map((e=>e.totalEmissions)),c=r.map((e=>e.totalSize/1024)),u=Math.max(...s),f=Math.min(...s),p=Math.max(...c),m=Math.min(...c),g=e=>i+e/(r.length-1)*680,x=e=>160-(e-f)/(u-f||1)*d,b=e=>160-(e-m)/(p-m||1)*d,y=r.map(((e,t)=>{const a=g(t),r=x(e.totalEmissions);return 0===t?`M ${a} ${r}`:`L ${a} ${r}`})).join(" "),E=r.map(((e,t)=>{const a=g(t),r=b(e.totalSize/1024);return 0===t?`M ${a} ${r}`:`L ${a} ${r}`})).join(" ");return e.default.createElement("div",{style:{background:"white",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"20px",marginBottom:"16px"}},e.default.createElement("div",{style:{fontSize:"15px",fontWeight:600,color:"#111827",marginBottom:"16px"}},"Trend Analysis"),e.default.createElement("div",{style:{display:"flex",justifyContent:"center"}},e.default.createElement("svg",{width:o,height:l,style:{overflow:"visible"}},[0,1,2,3,4].map((t=>{const a=n+35*t;return e.default.createElement("line",{key:t,x1:i,y1:a,x2:740,y2:a,stroke:"#f3f4f6",strokeWidth:"1"})})),e.default.createElement("path",{d:y,fill:"none",stroke:"#dc2626",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),e.default.createElement("path",{d:E,fill:"none",stroke:"#2563eb",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),r.map(((t,a)=>e.default.createElement("g",{key:`emissions-${a}`},e.default.createElement("circle",{cx:g(a),cy:x(t.totalEmissions),r:"4",fill:"#dc2626",stroke:"white",strokeWidth:"2"})))),r.map(((t,a)=>e.default.createElement("g",{key:`size-${a}`},e.default.createElement("circle",{cx:g(a),cy:b(t.totalSize/1024),r:"4",fill:"#2563eb",stroke:"white",strokeWidth:"2"})))),e.default.createElement("text",{x:50,y:15,textAnchor:"end",fontSize:"11",fill:"#6b7280"},u.toFixed(3),"g"),e.default.createElement("text",{x:50,y:165,textAnchor:"end",fontSize:"11",fill:"#6b7280"},f.toFixed(3),"g"),e.default.createElement("text",{x:750,y:15,textAnchor:"start",fontSize:"11",fill:"#6b7280"},p.toFixed(2),"MB"),e.default.createElement("text",{x:750,y:165,textAnchor:"start",fontSize:"11",fill:"#6b7280"},m.toFixed(2),"MB"),e.default.createElement("line",{x1:i,y1:160,x2:740,y2:160,stroke:"#d1d5db",strokeWidth:"2"}),e.default.createElement("line",{x1:i,y1:n,x2:i,y2:160,stroke:"#d1d5db",strokeWidth:"2"}),e.default.createElement("line",{x1:740,y1:n,x2:740,y2:160,stroke:"#d1d5db",strokeWidth:"2"}))),e.default.createElement("div",{style:{display:"flex",justifyContent:"center",gap:"24px",marginTop:"16px"}},e.default.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},e.default.createElement("div",{style:{width:"20px",height:"3px",background:"#dc2626",borderRadius:"2px"}}),e.default.createElement("span",{style:{fontSize:"13px",color:"#6b7280"}},"COâ‚‚ Emissions (g)")),e.default.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},e.default.createElement("div",{style:{width:"20px",height:"3px",background:"#2563eb",borderRadius:"2px"}}),e.default.createElement("span",{style:{fontSize:"13px",color:"#6b7280"}},"Page Weight (MB)"))))},x=({report:t,isExpanded:r,onToggle:o})=>{const l=d[t.carbonRating]||d.C,n=t.resourceGroups.reduce(((e,t)=>e+t.resources.length),0);return e.default.createElement("div",{style:{background:"white",border:"1px solid #e5e7eb",borderRadius:"8px",overflow:"hidden"}},e.default.createElement("div",{style:{padding:"16px 20px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",background:"#fafafa",borderBottom:r?"1px solid #e5e7eb":"none"},onClick:o},e.default.createElement("div",{style:{display:"flex",alignItems:"center",gap:"16px"}},e.default.createElement("div",null,e.default.createElement("div",{style:{fontSize:"13px",fontWeight:600,color:"#111827",marginBottom:"2px"}},t.lastRunDate),e.default.createElement("div",{style:{fontSize:"12px",color:"#9ca3af"}},n," resources â€¢ ",t.totalSize.toFixed(2)," KB")),e.default.createElement("div",{style:{display:"flex",gap:"12px",alignItems:"center"}},e.default.createElement("div",{style:{padding:"6px 12px",background:l.bg,color:l.primary,fontSize:"16px",fontWeight:700,borderRadius:"6px",border:`1px solid ${l.border}`}},t.carbonRating),e.default.createElement("div",{style:{textAlign:"right"}},e.default.createElement("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"}},"COâ‚‚"),e.default.createElement("div",{style:{fontSize:"14px",fontWeight:600,color:"#111827"}},t.totalEmissions.toFixed(3),"g")),e.default.createElement("div",{style:{textAlign:"right"}},e.default.createElement("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"}},"Weight"),e.default.createElement("div",{style:{fontSize:"14px",fontWeight:600,color:"#111827"}},(t.totalSize/1024).toFixed(2),"MB")))),e.default.createElement(a.Icon,{name:r?"xp-chevron-up":"xp-chevron-down"})),r&&e.default.createElement("div",{style:{padding:"20px"}},e.default.createElement(a.Stack,{spacing:a.Spacing.M},t.resourceGroups.sort(((e,t)=>t.totalSize-e.totalSize)).slice(0,3).map(((t,r)=>e.default.createElement("div",{key:r,style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px",background:"#f9fafb",borderRadius:"6px"}},e.default.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},e.default.createElement("div",{style:{width:"32px",height:"32px",borderRadius:"6px",backgroundColor:c(t.name).bg,color:c(t.name).color,border:`1px solid ${c(t.name).border}`,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px"}},e.default.createElement(a.Icon,{name:s(t.name)})),e.default.createElement("div",null,e.default.createElement("div",{style:{fontSize:"13px",fontWeight:600,color:"#111827"}},t.name),e.default.createElement("div",{style:{fontSize:"12px",color:"#6b7280"}},t.resources.length," resource",1!==t.resources.length?"s":""))),e.default.createElement("div",{style:{fontSize:"13px",fontWeight:600,color:"#6b7280"}},t.totalSize.toFixed(2)," KB")))))))},b=({currentReport:t,historicalReports:r,expandedReportIndex:o,setExpandedReportIndex:l,isLoadingMore:n,hasMoreHistory:i,loadMoreHistory:d})=>e.default.createElement(e.default.Fragment,null,e.default.createElement(g,{currentReport:t,historicalReports:r}),e.default.createElement(a.Stack,{spacing:a.Spacing.M},r.map(((t,a)=>e.default.createElement(x,{key:a,report:t,isExpanded:o===a,onToggle:()=>l(o===a?null:a)}))),i&&e.default.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:"16px"}},e.default.createElement(a.Button,{label:"Load More History",color:a.ButtonColor.Secondary,size:a.ButtonSize.M,disabled:n,inProgress:n,onClick:()=>{d({offset:r.length+1})}})))),y=t=>{const[l,n]=(0,e.useState)(!1),[i,s]=(0,e.useState)(null),[c,u]=(0,e.useState)(t?.sustainabilityData),[f,p]=(0,e.useState)(t?.historicalReports||[]),[g,x]=(0,e.useState)(null),[y,E]=(0,e.useState)(!1),[h,S]=(0,e.useState)(!0),[v,z]=(0,e.useState)(!1),{execute:k}=(0,r.usePageCommand)("RunReport",{after:e=>{u(e?.sustainabilityData),n(!1),s(null),e?.historicalReports&&p(e.historicalReports)},onError:e=>{n(!1),s("Failed to run sustainability report. Please try again."),console.error("Sustainability report error:",e)}}),{execute:C}=(0,r.usePageCommand)("LoadMoreHistory",{after:e=>{e?.historicalReports&&e.historicalReports.length>0?(p((t=>[...t,...e.historicalReports])),E(!1),e.historicalReports.length<10&&S(!1)):(S(!1),E(!1))},onError:e=>{E(!1),console.error("Load more history error:",e)}});if(null==c)return e.default.createElement("div",{style:{padding:"32px",maxWidth:"1400px",margin:"0 auto"}},e.default.createElement(a.Stack,{spacing:a.Spacing.XL},e.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},e.default.createElement(a.Headline,{size:a.HeadlineSize.L},"Sustainability Report")),e.default.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"400px"}},e.default.createElement(a.Card,{headline:"No Data Available",fullHeight:!1},e.default.createElement(a.Stack,{spacing:a.Spacing.L},e.default.createElement("p",{style:{fontSize:"14px",color:"#6b7280"}},t?.pageAvailability===o.Available?"Run a sustainability analysis to see your page's environmental impact.":"This page is not available for analysis."),i&&e.default.createElement("div",{style:{padding:"12px 16px",background:"#fef2f2",border:"1px solid #fecaca",borderRadius:"6px",fontSize:"13px",color:"#dc2626"}},i),t?.pageAvailability===o.Available&&e.default.createElement(a.Button,{label:"Run Analysis",color:a.ButtonColor.Primary,size:a.ButtonSize.L,disabled:l,inProgress:l,onClick:()=>{n(!0),s(null),k()}}))))));const R=d[c.carbonRating]||d.C,w=c.resourceGroups.reduce(((e,t)=>e+t.resources.length),0),B=(e=>{switch(e){case"Green":return{text:"Green hosting",color:"#059669",icon:"â—",bgColor:"#f0fdf4",borderColor:"#86efac",description:"This site is hosted on a green energy provider"};case"NotGreen":return{text:"Standard hosting",color:"#f97316",icon:"â—",bgColor:"#fff7ed",borderColor:"#fdba74",description:"This site uses standard grid energy hosting"};default:return{text:"Unknown hosting",color:"#6b7280",icon:"â—",bgColor:"#f3f4f6",borderColor:"#d1d5db",description:"Unable to verify the hosting provider's energy source"}}})(c.greenHostingStatus);return e.default.createElement("div",{style:{padding:"32px",maxWidth:"1400px",margin:"0 auto"}},e.default.createElement(a.Stack,{spacing:a.Spacing.XL},e.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"16px"}},e.default.createElement("div",null,e.default.createElement(a.Headline,{size:a.HeadlineSize.L},v?"Report History":"Sustainability Report"),!v&&e.default.createElement("div",{style:{fontSize:"14px",color:"#6b7280",marginTop:"4px"}},"Last analyzed: ",c.lastRunDate)),e.default.createElement("div",{style:{display:"flex",gap:"12px"}},v?e.default.createElement(a.Button,{label:"Back to Current Report",color:a.ButtonColor.Secondary,size:a.ButtonSize.M,onClick:()=>z(!1)}):e.default.createElement(e.default.Fragment,null,f.length>0&&e.default.createElement(a.Button,{label:"View History",color:a.ButtonColor.Secondary,size:a.ButtonSize.M,onClick:()=>z(!0)}),e.default.createElement(a.Button,{label:"Run New Analysis",color:a.ButtonColor.Primary,size:a.ButtonSize.M,disabled:l,inProgress:l,onClick:()=>{n(!0),s(null),k()}})))),i&&e.default.createElement("div",{style:{padding:"16px",background:"#fef2f2",border:"1px solid #fecaca",borderRadius:"8px",fontSize:"14px",color:"#dc2626"}},i),v?e.default.createElement(b,{currentReport:c,historicalReports:f,expandedReportIndex:g,setExpandedReportIndex:x,isLoadingMore:y,hasMoreHistory:h,loadMoreHistory:C}):e.default.createElement(m,{data:c,ratingColor:R,totalResources:w,hostingStatus:B})))}})(),i})())}}}));